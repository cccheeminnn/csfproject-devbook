"use strict";(self.webpackChunkdevbook_frontend=self.webpackChunkdevbook_frontend||[]).push([[789],{1789:(G,d,r)=>{r.r(d),r.d(d,{EmpformModule:()=>J});var u=r(6895),c=r(1390),n=r(4006),h=r(7081),g=r(4665),t=r(4650),v=r(7009),Z=r(9082),y=r(1458),T=r(7392),b=r(4859),E=r(4850),p=r(9549),P=r(4144),s=r(7084),U=r(1572);const A=["email"];function C(o,m){1&o&&(t.TgZ(0,"div",24),t._UZ(1,"mat-progress-spinner",25),t.qZA()),2&o&&(t.xp6(1),t.Q6J("mode","indeterminate"))}function I(o,m){1&o&&(t.TgZ(0,"mat-error",26),t._uU(1,"Email already exist!"),t.qZA())}function x(o,m){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Image filetype only and filesize below 1.05mb!"),t.qZA())}const F=[{path:"",component:(()=>{class o{constructor(i,e,a,l,f){this.snackBar=i,this.router=e,this.fb=a,this.sharedSvc=l,this.backendSvc=f,this.emailError=!1,this.hide=!0,this.errorProfilePhoto=!1,this.loading=!0}ngAfterViewInit(){this.loading=!1}ngOnInit(){this.formGrp=this.fb.group({name:this.fb.control("",[n.kI.required]),email:this.fb.control("",[n.kI.required,n.kI.email]),password:this.fb.control("",[n.kI.required,n.kI.minLength(8)]),profilePhoto:[null]})}onSubmit(){this.loading=!0;let i=new FormData;Object.keys(this.formGrp.controls).forEach(e=>{i.append(e,this.formGrp.get(e)?.value)}),this.backendSvc.registerEmp(i).then(e=>{this.loading=!1,this.sharedSvc.displayMessage("REGISTRATION_SUCCESSFUL","greenyellow"),this.snackBar.openFromComponent(g.h,{duration:3e3,verticalPosition:"top"}),this.router.navigate(["/login"])}).catch(e=>{this.loading=!1,e.error.message.match("exist")&&(this.emailHTMLEle.nativeElement.scrollIntoView({behavior:"smooth",block:"end",inline:"start"}),this.emailError=!0)})}readFileType(i){new File([],"");const a=i.target.files[0];var l=new FileReader;try{a.type.startsWith("image")&&a.size<1048576?(l.readAsDataURL(a),l.onload=f=>{this.errorProfilePhoto=!1,this.formGrp.controls.profilePhoto.setValue(a)}):(this.errorProfilePhoto=!0,this.formGrp.controls.profilePhoto.reset())}catch{this.errorProfilePhoto=!1,this.formGrp.controls.profilePhoto.reset()}}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(v.ux),t.Y36(c.F0),t.Y36(n.qu),t.Y36(Z.F),t.Y36(y.v))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-form"]],viewQuery:function(i,e){if(1&i&&t.Gf(A,5),2&i){let a;t.iGM(a=t.CRH())&&(e.emailHTMLEle=a.first)}},decls:48,vars:7,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"border-margin-parent"],["class","loading-spinner",4,"ngIf"],["enctype","multipart/form-data",3,"formGroup","submit"],["multi","",2,"justify-content","space-between","align-items","center"],[2,"justify-content","space-between","align-items","center"],[2,"text-align","center"],["appearance","fill",2,"display","block"],["matInput","","required","","formControlName","name"],["style","text-align: left;",4,"ngIf"],["matInput","","type","email","placeholder","fred@example.com","required","","formControlName","email"],["email",""],["matInput","","required","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[4,"ngIf"],[1,"input-group","mb-3"],["for","inputProfilePhoto",1,"input-group-text"],["type","file","accept","image/*","id","inputProfilePhoto",1,"form-control",3,"change"],["inputProfilePhoto",""],[2,"float","right","display","flex","margin-top","5px"],["mat-button","","type","submit",3,"disabled"],[1,"loading-spinner"],["diameter","60","color","primary",2,"margin-left","auto","margin-right","auto",3,"mode"],[2,"text-align","left"]],template:function(i,e){if(1&i&&(t.TgZ(0,"html",0)(1,"head"),t._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),t.TgZ(5,"title"),t._uU(6,"Document"),t.qZA()(),t.TgZ(7,"body")(8,"div",4),t.YNc(9,C,2,1,"div",5),t.TgZ(10,"form",6),t.NdJ("submit",function(){return e.onSubmit()}),t.TgZ(11,"mat-accordion",7)(12,"mat-expansion-panel")(13,"mat-expansion-panel-header")(14,"mat-panel-title"),t._uU(15," Account "),t.qZA(),t.TgZ(16,"mat-panel-description",8),t._uU(17," Login Information "),t.TgZ(18,"mat-icon"),t._uU(19,"account_circle"),t.qZA()()(),t._UZ(20,"mat-divider"),t.TgZ(21,"div",9)(22,"mat-form-field",10)(23,"mat-label"),t._uU(24,"Name"),t.qZA(),t._UZ(25,"input",11),t.qZA(),t.YNc(26,I,2,0,"mat-error",12),t.TgZ(27,"mat-form-field",10)(28,"mat-label"),t._uU(29,"Email"),t.qZA(),t._UZ(30,"input",13,14),t.qZA(),t.TgZ(32,"mat-form-field",10)(33,"mat-label"),t._uU(34,"Password"),t.qZA(),t._UZ(35,"input",15),t.TgZ(36,"button",16),t.NdJ("click",function(){return e.hide=!e.hide}),t.TgZ(37,"mat-icon"),t._uU(38),t.qZA()()(),t.YNc(39,x,2,0,"mat-error",17),t.TgZ(40,"div",18)(41,"label",19),t._uU(42,"Profile Photo"),t.qZA(),t.TgZ(43,"input",20,21),t.NdJ("change",function(l){return e.readFileType(l)}),t.qZA()()()()(),t.TgZ(45,"div",22)(46,"button",23),t._uU(47," Submit"),t.qZA()()()()()()),2&i){const a=t.MAs(44);t.xp6(9),t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("formGroup",e.formGrp),t.xp6(16),t.Q6J("ngIf",e.emailError),t.xp6(9),t.Q6J("type",e.hide?"password":"text"),t.xp6(3),t.Oqu(e.hide?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",e.errorProfilePhoto),t.xp6(7),t.Q6J("disabled",!(a.value.length>1)||e.formGrp.invalid)}},dependencies:[u.O5,T.Hw,b.lW,E.d,p.TO,p.KE,p.hX,p.R9,P.Nt,s.pp,s.ib,s.yz,s.yK,s.u4,U.Ou,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.sg,n.u]}),o})()}];let J=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.ez,c.Bz.forChild(F),h.q,n.u5,n.UX]}),o})()}}]);