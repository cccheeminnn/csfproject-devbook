"use strict";(self.webpackChunkdevbook_frontend=self.webpackChunkdevbook_frontend||[]).push([[789],{1789:(G,d,r)=>{r.r(d),r.d(d,{EmpformModule:()=>J});var u=r(6895),c=r(1390),i=r(4006),h=r(7081),g=r(4665),t=r(4650),v=r(7009),Z=r(9082),T=r(1458),b=r(7392),y=r(4859),E=r(4850),s=r(9549),U=r(4144),p=r(7084),A=r(1572);const P=["email"];function C(o,m){1&o&&(t.TgZ(0,"div",25),t._UZ(1,"mat-progress-spinner",26),t.qZA()),2&o&&(t.xp6(1),t.Q6J("mode","indeterminate"))}function I(o,m){1&o&&(t.TgZ(0,"mat-error",27),t._uU(1,"Email already exist!"),t.qZA())}function x(o,m){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Image filetype only and filesize below 1.05mb!"),t.qZA())}const F=[{path:"",component:(()=>{class o{constructor(n,e,a,l,f){this.snackBar=n,this.router=e,this.fb=a,this.sharedSvc=l,this.backendSvc=f,this.emailError=!1,this.hide=!0,this.errorProfilePhoto=!1,this.loading=!0}ngAfterViewInit(){this.loading=!1}ngOnInit(){this.formGrp=this.fb.group({name:this.fb.control("",[i.kI.required]),email:this.fb.control("",[i.kI.required,i.kI.email]),password:this.fb.control("",[i.kI.required,i.kI.minLength(8)]),profilePhoto:[null]})}onSubmit(){this.loading=!0;let n=new FormData;Object.keys(this.formGrp.controls).forEach(e=>{n.append(e,this.formGrp.get(e)?.value)}),this.backendSvc.registerEmp(n).then(e=>{this.loading=!1,this.sharedSvc.displayMessage("REGISTRATION_SUCCESSFUL","greenyellow"),this.snackBar.openFromComponent(g.h,{duration:3e3,verticalPosition:"top"}),this.router.navigate(["/login"])}).catch(e=>{this.loading=!1,e.error.message.match("exist")&&(this.emailHTMLEle.nativeElement.scrollIntoView({behavior:"smooth",block:"end",inline:"start"}),this.emailError=!0)})}readFileType(n){new File([],"");const a=n.target.files[0];var l=new FileReader;try{a.type.startsWith("image")&&a.size<1048576?(l.readAsDataURL(a),l.onload=f=>{this.errorProfilePhoto=!1,this.formGrp.controls.profilePhoto.setValue(a)}):(this.errorProfilePhoto=!0,this.formGrp.controls.profilePhoto.reset())}catch{this.errorProfilePhoto=!1,this.formGrp.controls.profilePhoto.reset()}}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(v.ux),t.Y36(c.F0),t.Y36(i.qu),t.Y36(Z.F),t.Y36(T.v))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-form"]],viewQuery:function(n,e){if(1&n&&t.Gf(P,5),2&n){let a;t.iGM(a=t.CRH())&&(e.emailHTMLEle=a.first)}},decls:51,vars:8,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"border-margin-parent"],["class","loading-spinner",4,"ngIf"],["enctype","multipart/form-data",3,"formGroup","submit"],["multi","",2,"justify-content","space-between","align-items","center"],[2,"justify-content","space-between","align-items","center"],[2,"text-align","center"],["appearance","fill",2,"display","block"],["matInput","","required","","formControlName","name"],["style","text-align: left;",4,"ngIf"],["matInput","","type","email","placeholder","fred@example.com","required","","formControlName","email"],["email",""],["matInput","","required","","formControlName","password",3,"type"],["pw",""],["mat-icon-button","","matSuffix","",3,"click"],[4,"ngIf"],[1,"input-group","mb-3"],["for","inputProfilePhoto",1,"input-group-text"],["type","file","accept","image/*","id","inputProfilePhoto",1,"form-control",3,"change"],["inputProfilePhoto",""],[2,"float","right","display","flex","margin-top","5px"],["mat-button","","type","submit",3,"disabled"],[1,"loading-spinner"],["diameter","60","color","primary",2,"margin-left","auto","margin-right","auto",3,"mode"],[2,"text-align","left"]],template:function(n,e){if(1&n&&(t.TgZ(0,"html",0)(1,"head"),t._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),t.TgZ(5,"title"),t._uU(6,"Document"),t.qZA()(),t.TgZ(7,"body")(8,"div",4),t.YNc(9,C,2,1,"div",5),t.TgZ(10,"form",6),t.NdJ("submit",function(){return e.onSubmit()}),t.TgZ(11,"mat-accordion",7)(12,"mat-expansion-panel")(13,"mat-expansion-panel-header")(14,"mat-panel-title"),t._uU(15," Account "),t.qZA(),t.TgZ(16,"mat-panel-description",8),t._uU(17," Login Information "),t.TgZ(18,"mat-icon"),t._uU(19,"account_circle"),t.qZA()()(),t._UZ(20,"mat-divider"),t.TgZ(21,"div",9)(22,"mat-form-field",10)(23,"mat-label"),t._uU(24,"Name"),t.qZA(),t._UZ(25,"input",11),t.qZA(),t.YNc(26,I,2,0,"mat-error",12),t.TgZ(27,"mat-form-field",10)(28,"mat-label"),t._uU(29,"Email"),t.qZA(),t._UZ(30,"input",13,14),t.qZA(),t.TgZ(32,"mat-form-field",10)(33,"mat-label"),t._uU(34,"Password"),t.qZA(),t._UZ(35,"input",15,16),t.TgZ(37,"button",17),t.NdJ("click",function(){return e.hide=!e.hide}),t.TgZ(38,"mat-icon"),t._uU(39),t.qZA()(),t.TgZ(40,"mat-hint"),t._uU(41),t.qZA()(),t.YNc(42,x,2,0,"mat-error",18),t.TgZ(43,"div",19)(44,"label",20),t._uU(45,"Profile Photo"),t.qZA(),t.TgZ(46,"input",21,22),t.NdJ("change",function(l){return e.readFileType(l)}),t.qZA()()()()(),t.TgZ(48,"div",23)(49,"button",24),t._uU(50," Submit"),t.qZA()()()()()()),2&n){const a=t.MAs(36),l=t.MAs(47);t.xp6(9),t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("formGroup",e.formGrp),t.xp6(16),t.Q6J("ngIf",e.emailError),t.xp6(9),t.Q6J("type",e.hide?"password":"text"),t.xp6(4),t.Oqu(e.hide?"visibility_off":"visibility"),t.xp6(2),t.hij("Min 8 characters, ",a.value.length," / 8"),t.xp6(1),t.Q6J("ngIf",e.errorProfilePhoto),t.xp6(7),t.Q6J("disabled",!(l.value.length>1)||e.formGrp.invalid)}},dependencies:[u.O5,b.Hw,y.lW,E.d,s.TO,s.KE,s.bx,s.hX,s.R9,U.Nt,p.pp,p.ib,p.yz,p.yK,p.u4,A.Ou,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u]}),o})()}];let J=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.ez,c.Bz.forChild(F),h.q,i.u5,i.UX]}),o})()}}]);